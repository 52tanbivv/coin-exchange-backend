<?xml version="1.0" encoding="utf-8" ?>
<objects xmlns="http://www.springframework.net"
         xmlns:tx="http://www.springframework.net/tx">
  
  <!-- Services -->
  <object id="FeeCalculationService" type="CoinExchange.Funds.Application.CrossBoundedContextsServices.FeeCalculationService, CoinExchange.Funds.Application">
    <constructor-arg name="feeRepository" ref="FeeRepository"/>
  </object>

  <object id="TransactionService" type="CoinExchange.Funds.Application.CrossBoundedContextsServices.TransactionService, CoinExchange.Funds.Application">
    <constructor-arg name="fundsPersistenceRepository" ref="FundsPersistenceRepository"/>
    <constructor-arg name="ledgerIdGeneratorService" ref="LedgerIdGeneratorService"/>
    <constructor-arg name="ledgerRepository" ref="LedgerRepository"/>
    <constructor-arg name="feeCalculationService" ref="FeeCalculationService"/>
  <constructor-arg name="balanceRepository" ref="BalanceRepository"/>
  </object>

  <object id="FundsValidationService" type="CoinExchange.Funds.Application.CrossBoundedContextsServices.FundsValidationService, CoinExchange.Funds.Application">
    <constructor-arg name="transactionService" ref="TransactionService"/>
    <constructor-arg name="fundsPersistenceRepository" ref="FundsPersistenceRepository"/>
    <constructor-arg name="balanceRepository" ref="BalanceRepository"/>
    <constructor-arg name="depositRepository" ref="DepositRepository"/>
    <constructor-arg name="feeCalculationService" ref="FeeCalculationService"/>
  </object>
  
  <tx:attribute-driven/>
</objects>