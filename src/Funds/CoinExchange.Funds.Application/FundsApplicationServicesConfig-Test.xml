<?xml version="1.0" encoding="utf-8" ?>
<objects xmlns="http://www.springframework.net"
         xmlns:tx="http://www.springframework.net/tx">
  
  <!-- Services -->
  <object id="FeeCalculationService" type="CoinExchange.Funds.Application.CrossBoundedContextsServices.FeeCalculationService, CoinExchange.Funds.Application">
    <constructor-arg name="feeRepository" ref="FeeRepository"/>
    <constructor-arg name="ledgerRepository" ref="LedgerRepository"/>
  </object>

  <object id="TransactionService" type="CoinExchange.Funds.Application.CrossBoundedContextsServices.TransactionService, CoinExchange.Funds.Application">
    <constructor-arg name="fundsPersistenceRepository" ref="FundsPersistenceRepository"/>
    <constructor-arg name="ledgerIdGeneratorService" ref="LedgerIdGeneratorService"/>
    <constructor-arg name="ledgerRepository" ref="LedgerRepository"/>
    <constructor-arg name="feeCalculationService" ref="FeeCalculationService"/>
  <constructor-arg name="balanceRepository" ref="BalanceRepository"/>
  </object>

  <object id="FundsValidationService" type="CoinExchange.Funds.Application.CrossBoundedContextsServices.StubFundsValidationService, CoinExchange.Funds.Application">
    
  </object>
  
  <object id="OrderValidationApplicationService" type="CoinExchange.Funds.Application.OrderValidationServices.OrderValidationApplicationService, CoinExchange.Funds.Application">
    <constructor-arg name="fundsValidationService" ref="FundsValidationService"/>
  </object>

  <object id="DepositApplicationService" type="CoinExchange.Funds.Application.DepositServices.DepositApplicationService, CoinExchange.Funds.Application">
    <constructor-arg name="fundsValidationService" ref="FundsValidationService"/>
    <constructor-arg name="coinClientService" ref="CoinClientService"/>
    <constructor-arg name="fundsPersistenceRepository" ref="FundsPersistenceRepository"/>
    <constructor-arg name="depositAddressRepository" ref="DepositAddressRepository"/>
    <constructor-arg name="balanceRepository" ref="BalanceRepository"/>
    <constructor-arg name="depositRepository" ref="DepositRepository"/>
  </object>
  
  <object id="WithdrawApplicationService" type="CoinExchange.Funds.Application.WithdrawServices.WithdrawApplicationService, CoinExchange.Funds.Application">
    <constructor-arg name="fundsPersistenceRepository" ref="FundsPersistenceRepository"/>
    <constructor-arg name="withdrawAddressRepository" ref="WithdrawAddressRepository"/>
    <constructor-arg name="coinClientService" ref="CoinClientService"/>
    <constructor-arg name="fundsValidationService" ref="FundsValidationService"/>
    <constructor-arg name="withdrawRepository" ref="WithdrawRepository"/>
    <constructor-arg name="withdrawSubmissionService" ref="WithdrawSubmissionService"/>
    <constructor-arg name="depositAddressRepository" ref="DepositAddressRepository"/>
  </object>
  
  <object id="WithdrawSubmissionService" type="CoinExchange.Funds.Application.WithdrawServices.WithdrawSubmissionService, CoinExchange.Funds.Application">
    <constructor-arg name="fundsPersistenceRepository" ref="FundsPersistenceRepository"/>    
    <constructor-arg name="withdrawRepository" ref="WithdrawRepository"/>
    <constructor-arg name="coinClientService" ref="CoinClientService"/>
  </object>
  
  <object id="LedgerQueryService" type="CoinExchange.Funds.Application.LedgerServices.LedgerQueryService, CoinExchange.Funds.Application">
    <constructor-arg name="ledgerRepository" ref="LedgerRepository"/>
  </object>
  
  <tx:attribute-driven/>
</objects>